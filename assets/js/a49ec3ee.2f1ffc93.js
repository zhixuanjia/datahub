"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[2142],{4137:function(e,t,a){a.d(t,{Zo:function(){return u},kt:function(){return c}});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),d=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},u=function(e){var t=d(e.components);return n.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),p=d(a),c=r,b=p["".concat(s,".").concat(c)]||p[c]||m[c]||l;return a?n.createElement(b,i(i({ref:t},u),{},{components:a})):n.createElement(b,i({ref:t},u))}));function c(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=p;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var d=2;d<l;d++)i[d]=a[d];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}p.displayName="MDXCreateElement"},3134:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return o},contentTitle:function(){return s},metadata:function(){return d},toc:function(){return u},default:function(){return p}});var n=a(7462),r=a(3366),l=(a(7294),a(4137)),i=["components"],o={title:"Tableau",sidebar_label:"Tableau",slug:"/metadata-ingestion/source_docs/tableau",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/metadata-ingestion/source_docs/tableau.md"},s="Tableau",d={unversionedId:"metadata-ingestion/source_docs/tableau",id:"metadata-ingestion/source_docs/tableau",isDocsHomePage:!1,title:"Tableau",description:"Testing",source:"@site/genDocs/metadata-ingestion/source_docs/tableau.md",sourceDirName:"metadata-ingestion/source_docs",slug:"/metadata-ingestion/source_docs/tableau",permalink:"/docs/metadata-ingestion/source_docs/tableau",editUrl:"https://github.com/datahub-project/datahub/blob/master/metadata-ingestion/source_docs/tableau.md",tags:[],version:"current",frontMatter:{title:"Tableau",sidebar_label:"Tableau",slug:"/metadata-ingestion/source_docs/tableau",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/metadata-ingestion/source_docs/tableau.md"},sidebar:"overviewSidebar",previous:{title:"Superset",permalink:"/docs/metadata-ingestion/source_docs/superset"},next:{title:"Trino",permalink:"/docs/metadata-ingestion/source_docs/trino"}},u=[{value:"Integration Details",id:"integration-details",children:[{value:"Concept Mapping",id:"concept-mapping",children:[{value:"Workbook",id:"workbook",children:[],level:4},{value:"Dashboard",id:"dashboard",children:[],level:4},{value:"Sheet",id:"sheet",children:[],level:4},{value:"Embedded Data Source",id:"embedded-data-source",children:[],level:4},{value:"Published Data Source",id:"published-data-source",children:[],level:4},{value:"Custom SQL Data Source",id:"custom-sql-data-source",children:[],level:4},{value:"Lineage",id:"lineage",children:[],level:4},{value:"Caveats",id:"caveats",children:[],level:4}],level:3},{value:"Supported Capabilities",id:"supported-capabilities",children:[],level:3}],level:2},{value:"Metadata Ingestion Quickstart",id:"metadata-ingestion-quickstart",children:[{value:"Prerequisites",id:"prerequisites",children:[],level:3},{value:"Install the Plugin(s)",id:"install-the-plugins",children:[],level:3},{value:"Configure the Ingestion Recipe(s)",id:"configure-the-ingestion-recipes",children:[{value:"<code>&#39;acryl-datahub[tableau]&#39;</code>",id:"acryl-datahubtableau",children:[],level:4}],level:3}],level:2},{value:"Troubleshooting",id:"troubleshooting",children:[{value:"Why are only some workbooks/sheets/dashboards/datasources ingested and others are missing",id:"why-are-only-some-workbookssheetsdashboardsdatasources-ingested-and-others-are-missing",children:[],level:3}],level:2}],m={toc:u};function p(e){var t=e.components,a=(0,r.Z)(e,i);return(0,l.kt)("wrapper",(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"tableau"},"Tableau"),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://img.shields.io/badge/support%20status-testing-lightgrey",alt:"Testing"})),(0,l.kt)("h2",{id:"integration-details"},"Integration Details"),(0,l.kt)("p",null,"This plugin extracts Sheets, Dashboards, Embedded and Published Data sources metadata within Workbooks in a given project\non a Tableau site. This plugin is in beta and has only been tested on PostgreSQL database and sample workbooks\non Tableau online. Tableau's GraphQL interface is used to extract metadata information. Queries used to extract metadata are located\nin ",(0,l.kt)("inlineCode",{parentName:"p"},"metadata-ingestion/src/datahub/ingestion/source/tableau_common.py")),(0,l.kt)("h3",{id:"concept-mapping"},"Concept Mapping"),(0,l.kt)("p",null,"This ingestion source maps the following Source System Concepts to DataHub Concepts:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Source Concept"),(0,l.kt)("th",{parentName:"tr",align:null},"DataHub Concept"),(0,l.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},'"Tableau"')),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/docs/generated/metamodel/entities/dataplatform"},"Data Platform")),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Embedded DataSource"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/docs/generated/metamodel/entities/dataset"},"Dataset")),(0,l.kt)("td",{parentName:"tr",align:null},"SubType ",(0,l.kt)("inlineCode",{parentName:"td"},'"Embedded Data Source"'))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Published DataSource"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/docs/generated/metamodel/entities/dataset"},"Dataset")),(0,l.kt)("td",{parentName:"tr",align:null},"SubType ",(0,l.kt)("inlineCode",{parentName:"td"},'"Published Data Source"'))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Custom SQL Table"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/docs/generated/metamodel/entities/dataset"},"Dataset")),(0,l.kt)("td",{parentName:"tr",align:null},"SubTypes ",(0,l.kt)("inlineCode",{parentName:"td"},'"View"'),", ",(0,l.kt)("inlineCode",{parentName:"td"},'"Custom SQL"'))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Embedded or External Tables"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/docs/generated/metamodel/entities/dataset"},"Dataset")),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Sheet"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/docs/generated/metamodel/entities/chart"},"Chart")),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Dashboard"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/docs/generated/metamodel/entities/dashboard"},"Dashboard")),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"User"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/docs/generated/metamodel/entities/corpuser"},"User (a.k.a CorpUser)")),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Workbook"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/docs/generated/metamodel/entities/container"},"Container")),(0,l.kt)("td",{parentName:"tr",align:null},"SubType ",(0,l.kt)("inlineCode",{parentName:"td"},'"Workbook"'))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Tag"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/docs/generated/metamodel/entities/tag"},"Tag")),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#Workbook"},"Workbook")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#Dashboard"},"Dashboard")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#Sheet"},"Sheet")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#Embedded-Data-Source"},"Embedded Data source")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#Published-Data-Source"},"Published Data source")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#Custom-SQL-Data-Source"},"Custom SQL Data source"))),(0,l.kt)("h4",{id:"workbook"},"Workbook"),(0,l.kt)("p",null,"Workbooks from Tableau are ingested as Container in datahub. ",(0,l.kt)("br",null)),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"GraphQL query ",(0,l.kt)("br",null))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-graphql"},'{\n  workbooksConnection(first: 15, offset: 0, filter: {projectNameWithin: ["default", "Project 2"]}) {\n    nodes {\n      id\n      name\n      luid\n      uri\n      projectName\n      owner {\n        username\n      }\n      description\n      uri\n      createdAt\n      updatedAt\n    }\n    pageInfo {\n      hasNextPage\n      endCursor\n    }\n    totalCount\n  }\n}\n')),(0,l.kt)("h4",{id:"dashboard"},"Dashboard"),(0,l.kt)("p",null,"Dashboards from Tableau are ingested as Dashboard in datahub. ",(0,l.kt)("br",null)),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"GraphQL query ",(0,l.kt)("br",null))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-graphql"},'{\n  workbooksConnection(first: 15, offset: 0, filter: {projectNameWithin: ["default", "Project 2"]}) {\n    nodes {\n      .....\n      dashboards {\n        id\n        name\n        path\n        createdAt\n        updatedAt\n        sheets {\n          id\n          name\n        }\n      }\n    }\n    pageInfo {\n      hasNextPage\n      endCursor\n    }\n    totalCount\n  }\n}\n\n')),(0,l.kt)("h4",{id:"sheet"},"Sheet"),(0,l.kt)("p",null,"Sheets from Tableau are ingested as charts in datahub. ",(0,l.kt)("br",null)),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"GraphQL query ",(0,l.kt)("br",null))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-graphql"},'{\n  workbooksConnection(first: 10, offset: 0, filter: {projectNameWithin: ["default"]}) {\n    .....\n      sheets {\n        id\n        name\n        path\n        createdAt\n        updatedAt\n        tags {\n          name\n        }\n        containedInDashboards {\n          name\n          path\n        }\n        upstreamDatasources {\n          id\n          name\n        }\n        datasourceFields {\n          __typename\n          id\n          name\n          description\n          upstreamColumns {\n            name\n          }\n          ... on ColumnField {\n            dataCategory\n            role\n            dataType\n            aggregation\n          }\n          ... on CalculatedField {\n            role\n            dataType\n            aggregation\n            formula\n          }\n          ... on GroupField {\n            role\n            dataType\n          }\n          ... on DatasourceField {\n            remoteField {\n              __typename\n              id\n              name\n              description\n              folderName\n              ... on ColumnField {\n                dataCategory\n                role\n                dataType\n                aggregation\n              }\n              ... on CalculatedField {\n                role\n                dataType\n                aggregation\n                formula\n              }\n              ... on GroupField {\n                role\n                dataType\n              }\n            }\n          }\n        }\n      }\n    }\n     .....\n  }\n}\n')),(0,l.kt)("h4",{id:"embedded-data-source"},"Embedded Data Source"),(0,l.kt)("p",null,"Embedded Data source from Tableau is ingested as a Dataset in datahub."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"GraphQL query ",(0,l.kt)("br",null))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-graphql"},'{\n  workbooksConnection(first: 15, offset: 0, filter: {projectNameWithin: ["default"]}) {\n    nodes {\n      ....\n      embeddedDatasources {\n        __typename\n        id\n        name\n        hasExtracts\n        extractLastRefreshTime\n        extractLastIncrementalUpdateTime\n        extractLastUpdateTime\n        upstreamDatabases {\n          id\n          name\n          connectionType\n          isEmbedded\n        }\n        upstreamTables {\n          name\n          schema\n          columns {\n            name\n            remoteType\n          }\n        }\n        fields {\n          __typename\n          id\n          name\n          description\n          isHidden\n          folderName\n          ... on ColumnField {\n            dataCategory\n            role\n            dataType\n            defaultFormat\n            aggregation\n            columns {\n              table {\n                ... on CustomSQLTable {\n                  id\n                  name\n                }\n              }\n            }\n          }\n          ... on CalculatedField {\n            role\n            dataType\n            defaultFormat\n            aggregation\n            formula\n          }\n          ... on GroupField {\n            role\n            dataType\n          }\n        }\n        upstreamDatasources {\n          id\n          name\n        }\n        workbook {\n          name\n          projectName\n        }\n      }\n    }\n    ....\n  }\n}\n')),(0,l.kt)("h4",{id:"published-data-source"},"Published Data Source"),(0,l.kt)("p",null,"Published Data source from Tableau is ingested as a Dataset in datahub."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"GraphQL query ",(0,l.kt)("br",null))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-graphql"},'{\n  publishedDatasourcesConnection(filter: {idWithin: ["00cce29f-b561-bb41-3557-8e19660bb5dd", "618c87db-5959-338b-bcc7-6f5f4cc0b6c6"]}) {\n    nodes {\n      __typename\n      id\n      name\n      hasExtracts\n      extractLastRefreshTime\n      extractLastIncrementalUpdateTime\n      extractLastUpdateTime\n      downstreamSheets {\n        id\n        name\n      }\n      upstreamTables {\n        name\n        schema\n        fullName\n        connectionType\n        description\n        contact {\n          name\n        }\n      }\n      fields {\n        __typename\n        id\n        name\n        description\n        isHidden\n        folderName\n        ... on ColumnField {\n          dataCategory\n          role\n          dataType\n          defaultFormat\n          aggregation\n          columns {\n            table {\n              ... on CustomSQLTable {\n                id\n                name\n              }\n            }\n          }\n        }\n        ... on CalculatedField {\n          role\n          dataType\n          defaultFormat\n          aggregation\n          formula\n        }\n        ... on GroupField {\n          role\n          dataType\n        }\n      }\n      owner {\n        username\n      }\n      description\n      uri\n      projectName\n    }\n    pageInfo {\n      hasNextPage\n      endCursor\n    }\n    totalCount\n  }\n}\n')),(0,l.kt)("h4",{id:"custom-sql-data-source"},"Custom SQL Data Source"),(0,l.kt)("p",null,"For custom sql data sources, the query is viewable in UI under View Definition tab. ",(0,l.kt)("br",null)),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"GraphQL query ",(0,l.kt)("br",null))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-graphql"},'{\n  customSQLTablesConnection(filter: {idWithin: ["22b0b4c3-6b85-713d-a161-5a87fdd78f40"]}) {\n    nodes {\n      id\n      name\n      query\n      columns {\n        id\n        name\n        remoteType\n        description\n        referencedByFields {\n          datasource {\n            id\n            name\n            upstreamDatabases {\n              id\n              name\n            }\n            upstreamTables {\n              id\n              name\n              schema\n              connectionType\n              columns {\n                id\n              }\n            }\n            ... on PublishedDatasource {\n              projectName\n            }\n            ... on EmbeddedDatasource {\n              workbook {\n                name\n                projectName\n              }\n            }\n          }\n        }\n      }\n      tables {\n        id\n        name\n        schema\n        connectionType\n      }\n    }\n  }\n}\n')),(0,l.kt)("h4",{id:"lineage"},"Lineage"),(0,l.kt)("p",null,"Lineage is emitted as received from Tableau's metadata API for"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Sheets contained in Dashboard"),(0,l.kt)("li",{parentName:"ul"},"Embedded or Published datasources upstream to Sheet"),(0,l.kt)("li",{parentName:"ul"},"Published datasources upstream to Embedded datasource"),(0,l.kt)("li",{parentName:"ul"},"Tables upstream to Embedded or Published datasource"),(0,l.kt)("li",{parentName:"ul"},"Custom SQL datasources upstream to Embedded or Published datasource"),(0,l.kt)("li",{parentName:"ul"},"Tables upstream to Custom SQL datasource")),(0,l.kt)("h4",{id:"caveats"},"Caveats"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Tableau metadata API might return incorrect schema name for tables for some databases, leading to incorrect metadata in DataHub. This source attempts to extract correct schema from databaseTable's fully qualified name, wherever possible. Read ",(0,l.kt)("a",{parentName:"li",href:"https://help.tableau.com/current/api/metadata_api/en-us/docs/meta_api_model.html#schema_attribute"},"Using the databaseTable object in query")," for caveats in using schema attribute.")),(0,l.kt)("h3",{id:"supported-capabilities"},"Supported Capabilities"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Capability"),(0,l.kt)("th",{parentName:"tr",align:"center"},"Status"),(0,l.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Data Container"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null},"Enabled by default")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Detect Deleted Entities"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Data Domain"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,l.kt)("td",{parentName:"tr",align:null},"Requires transformer")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Dataset Profiling"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Dataset Usage"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Extract Descriptions"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null},"Enabled by default")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Extract Lineage"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null},"Enabled by default")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Extract Ownership"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null},"Requires recipe configuration")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Extract Tags"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null},"Requires recipe configuration")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Partition Support"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,l.kt)("td",{parentName:"tr",align:null},"Not applicable to source")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Platform Instance"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,l.kt)("td",{parentName:"tr",align:null},"Not applicable to source")))),(0,l.kt)("h2",{id:"metadata-ingestion-quickstart"},"Metadata Ingestion Quickstart"),(0,l.kt)("h3",{id:"prerequisites"},"Prerequisites"),(0,l.kt)("p",null,"In order to ingest metadata from tableau, you will need:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Python 3.6+"),(0,l.kt)("li",{parentName:"ul"},"Tableau Server Version 2021.1.10 and above. It may also work for older versions."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://help.tableau.com/current/api/metadata_api/en-us/docs/meta_api_start.html#enable-the-tableau-metadata-api-for-tableau-server"},"Enable the Tableau Metadata API")," for Tableau Server, if its not already enabled."),(0,l.kt)("li",{parentName:"ul"},"Tableau Credentials (Username/Password or ",(0,l.kt)("a",{parentName:"li",href:"https://help.tableau.com/current/pro/desktop/en-us/useracct.htm#create-and-revoke-personal-access-tokens"},"Personal Access Token"),") ")),(0,l.kt)("h3",{id:"install-the-plugins"},"Install the Plugin(s)"),(0,l.kt)("p",null,"Run the following commands to install the relevant plugin(s):"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"pip install 'acryl-datahub[tableau]'")),(0,l.kt)("h3",{id:"configure-the-ingestion-recipes"},"Configure the Ingestion Recipe(s)"),(0,l.kt)("p",null,"Use the following recipe(s) to get started with ingestion. "),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"For general pointers on writing and running a recipe, see our ",(0,l.kt)("a",{parentName:"em",href:"/docs/metadata-ingestion#recipes"},"main recipe guide"),".")),(0,l.kt)("h4",{id:"acryl-datahubtableau"},(0,l.kt)("inlineCode",{parentName:"h4"},"'acryl-datahub[tableau]'")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-yml"},'source:\n  type: tableau\n  config:\n    # Coordinates\n    connect_uri: https://prod-ca-a.online.tableau.com\n    site: acryl\n    projects: ["default", "Project 2"]\n    \n    # Credentials\n    username: "${TABLEAU_USER}"\n    password: "${TABLEAU_PASSWORD}"\n\n    # Options\n    ingest_tags: True\n    ingest_owner: True\n    default_schema_map:\n      mydatabase: public\n      anotherdatabase: anotherschema\n\nsink:\n  # sink configs\n')),(0,l.kt)("details",null,(0,l.kt)("summary",null,"View All Recipe Configuartion Options"),'| Field                 | Required | Default   | Description                                                              | |-----------------------|----------|-----------|--------------------------------------------------------------------------| | `connect_uri`         | \u2705        |           | Tableau host URL.                                                        | | `site`                |          |  `""`    | Tableau Site. Always required for Tableau Online. Use emptystring "" to connect with Default site on Tableau Server.   | | `env`                 |          | `"PROD"`  | Environment to use in namespace when constructing URNs.                  | | `username`            |          |           | Tableau username, must be set if authenticating using username/password.    | | `password`            |          |           | Tableau password, must be set if authenticating using username/password.    | | `token_name`          |          |           | Tableau token name, must be set if authenticating using a personal access token.  | | `token_value`         |          |           | Tableau token value, must be set if authenticating using a personal access token. | | `projects`            |          | `["default"]` | List of projects                                                         | | `workbooks_page_size`            |          | 10 | Number of workbooks to query at a time using Tableau api.                                              | | `default_schema_map`* |          |           | Default schema to use when schema is not found.                          | | `ingest_tags`         |          | `False`   | Ingest Tags from source. This will override Tags entered from UI         | | `ingest_owners`       |          | `False`   | Ingest Owner from source. This will override Owner info entered from UI  | | `ingest_tables_external`       |          | `False`   | Ingest details for tables external to (not embedded in) tableau as entities *Tableau may not provide schema name when ingesting Custom SQL data source. Use `default_schema_map` to provide a default schema name to use when constructing a table URN.'),(0,l.kt)("h2",{id:"troubleshooting"},"Troubleshooting"),(0,l.kt)("h3",{id:"why-are-only-some-workbookssheetsdashboardsdatasources-ingested-and-others-are-missing"},"Why are only some workbooks/sheets/dashboards/datasources ingested and others are missing"),(0,l.kt)("p",null,'This may happen when the Tableau API returns NODE_LIMIT_EXCEEDED error in response to metadata query and returns partial results with message "Showing partial results. , The request exceeded the \u2018n\u2019 node limit. Use pagination, additional filtering, or both in the query to adjust results." To resolve this, consider '),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"reducing the page size using the ",(0,l.kt)("inlineCode",{parentName:"li"},"workbooks_page_size")," config param in datahub recipe (Defaults to 10)."),(0,l.kt)("li",{parentName:"ul"},"increasing tableau configuration ",(0,l.kt)("a",{parentName:"li",href:"https://help.tableau.com/current/server/en-us/cli_configuration-set_tsm.htm#metadata_nodelimit"},"metadata query node limit")," to higher value.")))}p.isMDXComponent=!0}}]);